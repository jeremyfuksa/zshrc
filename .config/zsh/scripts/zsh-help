#!/usr/bin/env zsh

# ZSH Help Script
# --------------

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
CYAN='\033[0;36m'
NC='\033[0m'

# Print section header
print_section() {
    echo "\n${BLUE}$1${NC}"
    echo "${BLUE}$(printf '%.0s-' {1..${#1}})${NC}"
}

# Print command with description
print_cmd() {
    printf "  ${GREEN}%-15s${NC} - %s\n" "$1" "$2"
}

# Main help function
show_help() {
    echo "${CYAN}ðŸš€ ZSH Utility Commands${NC}"
    echo "${CYAN}=====================${NC}"
    
    print_section "System Information & Maintenance"
    print_cmd "si" "Show system information (OS, memory, disk, CPU, Docker, Nginx)"
    print_cmd "ua" "Update system packages and clean up"
    print_cmd "i <pkg...>" "Install packages"
    print_cmd "clean" "Clean up system (apt/brew cleanup)"
    print_cmd "df" "Show disk space usage"
    print_cmd "free" "Show memory usage"
    print_cmd "top" "Show system processes"
    print_cmd "htop" "Interactive process viewer"
    
    print_section "File & Directory Operations"
    print_cmd "ls" "List directory contents"
    print_cmd "ll" "List with details"
    print_cmd "la" "List all files (including hidden)"
    print_cmd "cd" "Change directory"
    print_cmd "cd -" "Go to previous directory"
    print_cmd "cd ~" "Go to home directory"
    print_cmd "mkdir" "Create directory"
    print_cmd "rm" "Remove files"
    print_cmd "cp" "Copy files"
    print_cmd "mv" "Move files"
    print_cmd "cat" "View file contents"
    print_cmd "less" "View file with paging"
    print_cmd "head" "Show first lines"
    print_cmd "tail" "Show last lines"
    print_cmd "grep" "Search in files"
    print_cmd "find" "Find files"
    print_cmd "ex <file>" "Extract archive"
    print_cmd "mkcd <dir>" "Create and enter directory"
    
    print_section "Search & Navigation"
    print_cmd "fzf" "Fuzzy finder"
    print_cmd "fd" "Find files (alternative to find)"
    print_cmd "rg" "Ripgrep (fast grep)"
    print_cmd "z" "Jump to frequent directories"
    print_cmd ".." "Go up one directory"
    print_cmd "..." "Go up two directories"
    
    print_section "Docker Management (dk)"
    print_cmd "dk list" "List running containers"
    print_cmd "dk clean" "Clean up Docker system"
    print_cmd "dk stop [name]" "Stop container(s)"
    print_cmd "dk start [name]" "Start container(s)"
    print_cmd "dk restart [name]" "Restart container(s)"
    print_cmd "dk logs [name]" "View container logs"
    print_cmd "dip [name]" "Get container IP address"
    print_cmd "dps" "List containers (alternative)"
    print_cmd "dclean" "Clean Docker (alternative)"
    
    print_section "Nginx Management (ng)"
    print_cmd "ng list" "List all Nginx sites"
    print_cmd "ng enable <site>" "Enable a site"
    print_cmd "ng disable <site>" "Disable a site"
    print_cmd "ng restart" "Restart Nginx"
    
    print_section "Process Management"
    print_cmd "ps" "List processes"
    print_cmd "psg <pattern>" "Search for processes"
    print_cmd "kp <name>" "Kill process by name"
    print_cmd "kill" "Kill process by PID"
    print_cmd "killall" "Kill processes by name"
    print_cmd "bg" "Send process to background"
    print_cmd "fg" "Bring process to foreground"
    
    print_section "Git Shortcuts"
    print_cmd "gs" "Git status (short format)"
    print_cmd "gl" "Git log (graphical format)"
    print_cmd "ga" "Git add"
    print_cmd "gc" "Git commit"
    print_cmd "gp" "Git push"
    print_cmd "gpl" "Git pull"
    print_cmd "gb" "Git branch"
    print_cmd "gco" "Git checkout"
    print_cmd "gd" "Git diff"
    
    print_section "Network Utilities"
    print_cmd "myip" "Show public IP address"
    print_cmd "ports <host>" "Scan for open ports"
    print_cmd "ping" "Test network connectivity"
    print_cmd "curl" "Transfer data from/to server"
    print_cmd "wget" "Download files"
    print_cmd "ssh" "Secure shell connection"
    print_cmd "scp" "Secure copy"
    
    print_section "Development Tools"
    print_cmd "nvm" "Node Version Manager"
    print_cmd "npm" "Node Package Manager"
    print_cmd "yarn" "Alternative package manager"
    print_cmd "python" "Python interpreter"
    print_cmd "pip" "Python package manager"
    print_cmd "ruby" "Ruby interpreter"
    print_cmd "gem" "Ruby package manager"
    print_cmd "go" "Go compiler"
    
    print_section "Shell Management"
    print_cmd "reload" "Reload shell configuration"
    print_cmd "zb" "Backup zsh configuration"
    print_cmd "zl" "List zsh backups"
    print_cmd "zr <backup>" "Restore from backup"
    print_cmd "history" "Show command history"
    print_cmd "clear" "Clear screen"
    print_cmd "exit" "Exit shell"
    
    print_section "Examples"
    echo "  ${YELLOW}$ i nginx docker    ${NC}# Install nginx and docker"
    echo "  ${YELLOW}$ dk list          ${NC}# List Docker containers"
    echo "  ${YELLOW}$ ng enable mysite ${NC}# Enable Nginx site"
    echo "  ${YELLOW}$ ex archive.zip   ${NC}# Extract zip file"
    echo "  ${YELLOW}$ psg nginx        ${NC}# Find nginx processes"
    echo "  ${YELLOW}$ find . -name "*.log" ${NC}# Find log files"
    echo "  ${YELLOW}$ grep -r "error" . ${NC}# Search for errors"
    echo "  ${YELLOW}$ z project        ${NC}# Jump to project directory"
}

# Handle command line arguments
case "$1" in
    "docker"|"dk")
        print_section "Docker Management (dk)"
        print_cmd "dk list" "List running containers"
        print_cmd "dk clean" "Clean up Docker system"
        print_cmd "dk stop [name]" "Stop container(s)"
        print_cmd "dk start [name]" "Start container(s)"
        print_cmd "dk restart [name]" "Restart container(s)"
        print_cmd "dk logs [name]" "View container logs"
        print_cmd "dip [name]" "Get container IP address"
        print_cmd "dps" "List containers (alternative)"
        print_cmd "dclean" "Clean Docker (alternative)"
        ;;
    "nginx"|"ng")
        print_section "Nginx Management (ng)"
        print_cmd "ng list" "List all Nginx sites"
        print_cmd "ng enable <site>" "Enable a site"
        print_cmd "ng disable <site>" "Disable a site"
        print_cmd "ng restart" "Restart Nginx"
        ;;
    "system"|"sys")
        print_section "System Information & Maintenance"
        print_cmd "si" "Show system information"
        print_cmd "ua" "Update system packages"
        print_cmd "i <pkg...>" "Install packages"
        print_cmd "clean" "Clean up system"
        print_cmd "df" "Show disk space usage"
        print_cmd "free" "Show memory usage"
        print_cmd "top" "Show system processes"
        print_cmd "htop" "Interactive process viewer"
        ;;
    "files"|"file")
        print_section "File & Directory Operations"
        print_cmd "ls" "List directory contents"
        print_cmd "ll" "List with details"
        print_cmd "la" "List all files"
        print_cmd "cd" "Change directory"
        print_cmd "mkdir" "Create directory"
        print_cmd "rm" "Remove files"
        print_cmd "cp" "Copy files"
        print_cmd "mv" "Move files"
        print_cmd "cat" "View file contents"
        print_cmd "less" "View file with paging"
        print_cmd "head" "Show first lines"
        print_cmd "tail" "Show last lines"
        print_cmd "grep" "Search in files"
        print_cmd "find" "Find files"
        print_cmd "ex <file>" "Extract archive"
        print_cmd "mkcd <dir>" "Create and enter directory"
        ;;
    "search"|"find")
        print_section "Search & Navigation"
        print_cmd "fzf" "Fuzzy finder"
        print_cmd "fd" "Find files"
        print_cmd "rg" "Ripgrep (fast grep)"
        print_cmd "z" "Jump to frequent directories"
        print_cmd ".." "Go up one directory"
        print_cmd "..." "Go up two directories"
        ;;
    "git")
        print_section "Git Shortcuts"
        print_cmd "gs" "Git status (short format)"
        print_cmd "gl" "Git log (graphical format)"
        print_cmd "ga" "Git add"
        print_cmd "gc" "Git commit"
        print_cmd "gp" "Git push"
        print_cmd "gpl" "Git pull"
        print_cmd "gb" "Git branch"
        print_cmd "gco" "Git checkout"
        print_cmd "gd" "Git diff"
        ;;
    "network"|"net")
        print_section "Network Utilities"
        print_cmd "myip" "Show public IP address"
        print_cmd "ports <host>" "Scan for open ports"
        print_cmd "ping" "Test network connectivity"
        print_cmd "curl" "Transfer data from/to server"
        print_cmd "wget" "Download files"
        print_cmd "ssh" "Secure shell connection"
        print_cmd "scp" "Secure copy"
        ;;
    "dev"|"development")
        print_section "Development Tools"
        print_cmd "nvm" "Node Version Manager"
        print_cmd "npm" "Node Package Manager"
        print_cmd "yarn" "Alternative package manager"
        print_cmd "python" "Python interpreter"
        print_cmd "pip" "Python package manager"
        print_cmd "ruby" "Ruby interpreter"
        print_cmd "gem" "Ruby package manager"
        print_cmd "go" "Go compiler"
        ;;
    "shell")
        print_section "Shell Management"
        print_cmd "reload" "Reload shell configuration"
        print_cmd "zb" "Backup zsh configuration"
        print_cmd "zl" "List zsh backups"
        print_cmd "zr <backup>" "Restore from backup"
        print_cmd "history" "Show command history"
        print_cmd "clear" "Clear screen"
        print_cmd "exit" "Exit shell"
        ;;
    *)
        show_help
        ;;
esac 
